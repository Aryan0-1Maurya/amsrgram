"use strict";(self.webpackChunksocial_media_app=self.webpackChunksocial_media_app||[]).push([[40],{2040:function(e,t,n){n.r(t);var r=n(2791),a=n(7692),i=n(6856),s=n(1545),u=n(438),c=n(3108),o=n(184);t.default=function(e){var t=e.profileMenu,n=e.setProfileMenu,l=(0,u.aC)(),d=l.user,p=l.isLoading,f=(0,c.MB)(null===d||void 0===d?void 0:d.id),x=f.file,h=f.setFile,m=f.updateAvatar,v=(0,u.aU)().logout;return(0,r.useEffect)((function(){m()}),[x,m]),p?null:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{onClick:function(){return n(!1)},className:"".concat(t?"h-full":"h-0 delay-[250ms]"," bg-modal fixed top-0 left-0 w-full flex justify-center items-end z-50"),children:(0,o.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"".concat(t?"h-1/3 opacity-100":"h-0 opacity-0"," bg-black text-white w-full max-w-[500px] px-4 py-8 rounded-tl-3xl rounded-tr-3xl flex flex-col justify-between overflow-hidden duration-300 ease-in-out z-50"),children:[(0,o.jsx)("div",{className:"".concat(t?"opacity-100":"opacity-0"," w-full flex justify-center items-center delay-150 duration-300 ease-in-out"),children:(0,o.jsx)("div",{title:"CLose Menu",onTouchStart:function(){return n(!1)},onMouseDown:function(){return n(!1)},className:"w-1/4 h-2 bg-white rounded-full cursor-pointer hover:opacity-50 duration-300 ease-in-out"})}),(0,o.jsxs)("div",{className:"w-full flex flex-col justify-center gap-8 text-lg font-semibold",children:[(0,o.jsx)("div",{className:"".concat(t?"opacity-100":"opacity-0"," flex items-center gap-2 delay-200 duration-300 ease-in-out"),children:(0,o.jsxs)("label",{htmlFor:"avatar",title:"Update Avatar",className:"flex items-center gap-2 cursor-pointer hover:text-orange-600 duration-300 ease-in-out",children:[(0,o.jsx)(s.uRN,{size:22}),(0,o.jsx)("span",{children:"Update Avatar"}),(0,o.jsx)("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:function(e){h(e.target.files[0])}})]})}),(0,o.jsx)("div",{className:"".concat(t?"opacity-100":"opacity-0"," flex items-center gap-2 delay-200 duration-300 ease-in-out"),children:(0,o.jsxs)("div",{title:"Comming Soon",className:"flex items-center gap-2 cursor-not-allowed hover:text-orange-600 duration-300 ease-in-out",children:[(0,o.jsx)(a.Hlf,{size:22}),(0,o.jsx)("span",{children:"Change Username"})]})}),(0,o.jsx)("div",{className:"".concat(t?"opacity-100":"opacity-0"," flex items-center gap-2 delay-200 duration-300 ease-in-out"),children:(0,o.jsxs)("div",{title:"Comming Soon",className:"flex items-center gap-2 cursor-not-allowed hover:text-orange-600 duration-300 ease-in-out",children:[(0,o.jsx)(a.Hlf,{size:22}),(0,o.jsx)("span",{children:"Change Caption"})]})}),(0,o.jsx)("div",{className:"".concat(t?"opacity-100":"opacity-0"," flex items-center gap-2 delay-[250ms] duration-300 ease-in-out"),children:(0,o.jsxs)("div",{title:"Sign Out",onClick:v,className:"flex items-center gap-2 cursor-pointer hover:text-orange-600 duration-300 ease-in-out",children:[(0,o.jsx)(i.PNx,{size:22}),(0,o.jsx)("span",{children:"Sign Out"})]})})]})]})})})}},5063:function(e,t,n){n.d(t,{I8:function(){return o},db:function(){return l},tO:function(){return d}});var r=n(4702),a=n(4098),i=n(2481),s=n(276),u=n(2391),c=(0,r.ZF)({apiKey:"AIzaSyAqmJC2y6qC_U450bbswobw_LyW8FiYZ7k",authDomain:"social-media-app-2fe38.firebaseapp.com",projectId:"social-media-app-2fe38",storageBucket:"social-media-app-2fe38.appspot.com",messagingSenderId:"574156900602",appId:"1:574156900602:web:13726a114daac7ada06143"}),o=(0,a.v0)(c),l=(0,i.ad)(c),d=(0,s.cF)(c);(0,u.IH)(c)},438:function(e,t,n){n.d(t,{aC:function(){return x},f0:function(){return h},aU:function(){return v},mr:function(){return m}});var r=n(4165),a=n(5861),i=n(9439),s=n(2791),u=n(7689),c=n(4098),o=n(5063),l=n(2481),d=n(6910);function p(e){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.IO)((0,l.hJ)(o.db,"users"),(0,l.ar)("username","==",t)),e.next=3,(0,l.PL)(n);case 3:return a=e.sent,e.abrupt("return",a.size>0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){var e=(0,d.F_)(o.I8),t=(0,i.Z)(e,3),n=t[0],u=t[1],c=t[2],p=(0,s.useState)(!0),f=(0,i.Z)(p,2),x=f[0],h=f[1],m=(0,s.useState)(null),v=(0,i.Z)(m,2),g=v[0],y=v[1];return(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),t=(0,l.JU)(o.db,"users",n.uid),e.next=4,(0,l.QT)(t);case 4:a=e.sent,y(a.data()),h(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u||(n?function(){e.apply(this,arguments)}():h(!1))}),[u,n]),{user:g,isLoading:x,error:c}}function h(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),n=t[0],l=t[1],d=(0,s.useState)(""),p=(0,i.Z)(d,2),f=p[0],x=p[1],h=(0,u.s0)();function m(){return(m=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,i=t.redirectTo,s=void 0===i?"/":i,l(!0),x(""),e.prev=3,e.next=6,(0,c.e5)(o.I8,n,a);case 6:h(s),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),x(e.t0.message),l(!1),e.abrupt("return",!1);case 14:return x(""),l(!1),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}return{login:function(e){return m.apply(this,arguments)},isLoading:n,error:f}}function m(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),n=t[0],d=t[1],f=(0,s.useState)(""),x=(0,i.Z)(f,2),h=x[0],m=x[1],v=(0,u.s0)();function g(){return(g=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,s,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.email,i=t.password,s=t.redirectTo,void 0===s?"/":s,d(!0),e.next=4,p(n);case 4:if(!e.sent){e.next=10;break}m("Username already exists"),d(!1),e.next=25;break;case 10:return e.prev=10,e.next=13,(0,c.Xb)(o.I8,a,i);case 13:return u=e.sent,e.next=16,(0,l.pl)((0,l.JU)(o.db,"users",u.user.uid),{id:u.user.uid,username:n,avatar:"",date:Date.now()});case 16:v("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),m("Signed up failed");case 22:return e.prev=22,d(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[10,19,22,25]])})))).apply(this,arguments)}return{register:function(e){return g.apply(this,arguments)},isLoading:n,error:h}}function v(){var e=(0,d.QJ)(o.I8),t=(0,i.Z)(e,3),n=t[0],s=t[1],c=(t[2],(0,u.s0)());function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(!e.sent){e.next=4;break}c("/signin");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{logout:function(){return l.apply(this,arguments)},isLoading:s}}},3108:function(e,t,n){n.d(t,{MB:function(){return x},UV:function(){return f},aF:function(){return p}});var r=n(4165),a=n(5861),i=n(9439),s=n(2791),u=n(5063),c=n(2481),o=n(2146),l=n(276),d=n(7689);function p(e){var t=(0,c.IO)((0,c.JU)(u.db,"users",e)),n=(0,o.Xi)(t),r=(0,i.Z)(n,2);return{user:r[0],isLoading:r[1]}}function f(){var e=(0,o.d4)((0,c.hJ)(u.db,"users")),t=(0,i.Z)(e,2);return{users:t[0],isLoading:t[1]}}function x(e){var t=(0,s.useState)(!1),n=(0,i.Z)(t,2),o=(n[0],n[1]),p=(0,s.useState)(null),f=(0,i.Z)(p,2),x=f[0],h=f[1],m=(0,d.s0)();function v(){return(v=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x){t.next=2;break}return t.abrupt("return");case 2:return o(!0),n=(0,l.iH)(u.tO,"avatars/"+e),t.next=6,(0,l.KV)(n,x);case 6:return t.next=8,(0,l.Jt)(n);case 8:return a=t.sent,i=(0,c.JU)(u.db,"users",e),t.next=12,(0,c.r7)(i,{avatar:a});case 12:o(!1),m(0);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{file:x,setFile:h,updateAvatar:function(){return v.apply(this,arguments)}}}}}]);
//# sourceMappingURL=40.0ba5d01b.chunk.js.map