{"version":3,"file":"static/js/946.85d93236.chunk.js","mappings":"+PAeMA,GAAMC,EAAAA,EAAAA,IATW,CACrBC,OAAQC,0CACRC,WAAYD,yCACZE,UAAWF,yBACXG,cAAeH,qCACfI,kBAAmBJ,eACnBK,MAAOL,8CAIIM,GAAOC,EAAAA,EAAAA,IAAQV,GACfW,GAAKC,EAAAA,EAAAA,IAAaZ,GAClBa,GAAUC,EAAAA,EAAAA,IAAWd,IAChBe,EAAAA,EAAAA,IAAaf,E,qMCTxB,SAASgB,EAAQC,GACtB,IAAMC,GAAIC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,IAAIT,EAAAA,GAAI,QAASM,IACjCI,GAA0BC,EAAAA,EAAAA,IAAgBJ,GAAEK,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAE5C,MAAO,CAAEI,KAFEF,EAAA,GAEIG,UAFOH,EAAA,GAGxB,CAEO,SAASI,IACd,IAAAC,GAA2BC,EAAAA,EAAAA,KAAkBC,EAAAA,EAAAA,IAAWnB,EAAAA,GAAI,UAASoB,GAAAP,EAAAA,EAAAA,GAAAI,EAAA,GACrE,MAAO,CAAEI,MADGD,EAAA,GACIL,UADOK,EAAA,GAEzB,CAEO,SAASE,EAAgBC,GAC9B,IAAAC,GAAgCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAb,EAAAA,EAAAA,GAAAW,EAAA,GAA7BG,GAAFD,EAAA,GAAYA,EAAA,IAC5BE,GAAwBH,EAAAA,EAAAA,UAAS,MAAKI,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAA/BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,GAAWC,EAAAA,EAAAA,MAEU,SAAAC,IAc1B,OAd0BA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA3B,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACOf,EAAK,CAADa,EAAAE,KAAA,eAAAF,EAAAG,OAAA,iBAGqC,OAD9CnB,GAAW,GACLY,GAAUQ,EAAAA,EAAAA,IAAI7C,EAAAA,GAAS,WAAaqB,GAAIoB,EAAAE,KAAA,GACxCG,EAAAA,EAAAA,IAAYT,EAAST,GAAM,KAAD,SAAAa,EAAAE,KAAA,GAERI,EAAAA,EAAAA,IAAeV,GAAS,KAAD,EAEX,OAF9BC,EAASG,EAAAO,KAETT,GAAShC,EAAAA,EAAAA,IAAIT,EAAAA,GAAI,QAASuB,GAAIoB,EAAAE,KAAA,IAC9BM,EAAAA,EAAAA,IAAUV,EAAQ,CAAEW,OAAQZ,IAAa,KAAD,GAC9Cb,GAAW,GAEXK,EAAS,GAAG,yBAAAW,EAAAU,OAAA,GAAAf,EAAA,MACbgB,MAAA,KAAAC,UAAA,CAED,MAAO,CAAEzB,KAAAA,EAAMC,QAAAA,EAASyB,aAlBO,WAEJ,OAAAtB,EAAAoB,MAAC,KAADC,UAAA,EAiB7B,C,6ICTA,EA9BmB,SAAHE,GAAkB,IAAZ3C,EAAI2C,EAAJ3C,KAEpB4C,GAAmDC,EAAAA,EAAAA,MAAtCC,EAAKF,EAAVX,IAAoBc,EAAkBH,EAA1BI,OAEpB,OACEC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CACHC,GAAE,YAAAC,OAAcpD,EAAKR,IACrByC,IAAKa,EACLO,UAAS,GAAAD,OACPL,EAAqB,yBAA2B,KAAI,gGACyCO,SAAA,EAE/FC,EAAAA,EAAAA,KAAA,OACEC,MAAM,cACNC,IAAKzD,EAAKsC,OACVoB,IAAI,GACJL,UAAU,wFAEZJ,EAAAA,EAAAA,MAAA,OAAKI,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uDAAsDC,SAClEtD,EAAK2D,YAERV,EAAAA,EAAAA,MAAA,OAAKI,UAAU,yBAAwBC,SAAA,CAAC,YAC7BM,EAAAA,EAAAA,GAAO5D,EAAK6D,KAAM,oBAKrC,ECTA,EArB2B,WACzB,OACEZ,EAAAA,EAAAA,MAACa,EAAAA,EAAEC,IAAG,CACJC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,WAAY,CAAEC,MAAO,EAAGC,SAAU,GAClChB,UAAU,kEAAiEC,SAAA,EAE3EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wFACfJ,EAAAA,EAAAA,MAAA,OAAKI,UAAU,sBAAqBC,SAAA,EAClCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iEAAgEC,SAAC,cAGhFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mDAAkDC,SAAC,6BAM1E,E,oBC2CA,EA1De,WACb,IAAAgB,GAA6BpE,EAAAA,EAAAA,MAArBK,EAAK+D,EAAL/D,MAAON,EAASqE,EAATrE,UACPsE,GAAeC,EAAAA,EAAAA,MAAfD,WACR7D,GAA0DC,EAAAA,EAAAA,WAAS,GAAKC,GAAAb,EAAAA,EAAAA,GAAAW,EAAA,GAAjE+D,EAAqB7D,EAAA,GAAE8D,EAAwB9D,EAAA,GAatD,OAXA+D,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAA+BC,aAAY,WAC/CH,GAAyB,EAC3B,GAAG,MAEH,OAAO,WACLI,cAAcF,GACdF,GAAyB,EAC3B,CACF,GAAG,IAECzE,EAAkB,MAGpBsD,EAAAA,EAAAA,KAAAwB,EAAAA,SAAA,CAAAzB,SACGmB,GACClB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4GAA2GC,UACxHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yDAAwDC,SACpE/C,EAAMyE,MAAM,EAAG,GAAGC,KAAI,SAACjF,GAAI,OAC1BuD,EAAAA,EAAAA,KAAC2B,EAAkB,CAAelF,KAAMA,GAAfA,EAAKR,GAAkB,SAKtD+D,EAAAA,EAAAA,KAACO,EAAAA,EAAEC,IAAG,CACJC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,WAAY,CAAEC,MAAO,EAAGC,SAAU,GAClChB,UAAU,4GAA2GC,UAErHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yDAAwDC,SACpE/C,EACE4E,QAAO,SAACC,GACP,MAAmB,KAAfb,GAGFa,EAAMzB,SACH0B,cACAC,SAASf,EAAWc,eAJhBD,OACF,CAOT,IACCH,KAAI,SAACjF,GAAI,OACRuD,EAAAA,EAAAA,KAACgC,EAAU,CAAevF,KAAMA,GAAfA,EAAKR,GAAkB,SAOxD,C","sources":["firebase.js","hooks/users.js","components/search/SearchUser.jsx","components/search/SkeletonSearchUser.jsx","routes/Search.jsx"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAnalytics } from \"firebase/analytics\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\nconst analytics = getAnalytics(app);\n\nexport default app;\n","import { useState } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport { collection, doc, query, updateDoc } from \"firebase/firestore\";\nimport {\n  useCollectionData,\n  useDocumentData,\n} from \"react-firebase-hooks/firestore\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport function useUser(id) {\n  const q = query(doc(db, \"users\", id));\n  const [user, isLoading] = useDocumentData(q);\n\n  return { user, isLoading };\n}\n\nexport function useUsers() {\n  const [users, isLoading] = useCollectionData(collection(db, \"users\"));\n  return { users, isLoading };\n}\n\nexport function useUpdateAvatar(uid) {\n  const [isLoading, setLoading] = useState(false);\n  const [file, setFile] = useState(null);\n  const navigate = useNavigate();\n\n  async function updateAvatar() {\n    if (!file) return;\n\n    setLoading(true);\n    const fileRef = ref(storage, \"avatars/\" + uid);\n    await uploadBytes(fileRef, file);\n\n    const avatarURL = await getDownloadURL(fileRef);\n\n    const docRef = doc(db, \"users\", uid);\n    await updateDoc(docRef, { avatar: avatarURL });\n    setLoading(false);\n\n    navigate(0);\n  }\n\n  return { file, setFile, updateAvatar };\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { useInView } from \"react-intersection-observer\";\n\nconst SearchUser = ({ user }) => {\n  // Intesection Observer\n  const { ref: myRef, inView: myElementIsVisible } = useInView();\n\n  return (\n    <Link\n      to={`/profile/${user.id}`}\n      ref={myRef}\n      className={`${\n        myElementIsVisible ? \"animate-animateOpacity\" : null\n      } w-full pb-4 flex justify-start items-center gap-4 hover:opacity-50 duration-300 ease-in-out`}\n    >\n      <img\n        title=\"See Profile\"\n        src={user.avatar}\n        alt=\"\"\n        className=\"w-[3.5rem] h-[3.5rem] bg-black shadow-sm shadow-gray-400 rounded-full object-cover\"\n      />\n      <div className=\"flex flex-col\">\n        <div className=\"font-semibold text-lg tracking-wider text-orange-600\">\n          {user.username}\n        </div>\n        <div className=\"tracking-wider text-sm\">\n          Joined: {format(user.date, \"MMMM YYY\")}\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default SearchUser;\n","import React from \"react\";\nimport { motion as m } from \"framer-motion\";\n\nconst SkeletonSearchUser = () => {\n  return (\n    <m.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ delay: 1, duration: 1 }}\n      className=\"w-full pb-4 flex justify-start items-center gap-4 animate-pulse\"\n    >\n      <div className=\"w-[3.5rem] h-[3.5rem] bg-gray-200 border border-gray-200 rounded-full object-cover\"></div>\n      <div className=\"flex flex-col gap-1\">\n        <div className=\"font-semibold text-lg tracking-wider bg-gray-200 text-gray-200\">\n          username\n        </div>\n        <div className=\"tracking-wider text-sm bg-gray-200 text-gray-200\">\n          Joined: August 2023\n        </div>\n      </div>\n    </m.div>\n  );\n};\n\nexport default SkeletonSearchUser;\n","import React, { useEffect, useState } from \"react\";\nimport { motion as m } from \"framer-motion\";\nimport SearchUser from \"../components/search/SearchUser\";\nimport SkeletonSearchUser from \"../components/search/SkeletonSearchUser\";\nimport { useSearchContext } from \"../context/SearchContext\";\nimport { useUsers } from \"../hooks/users\";\n\nconst Search = () => {\n  const { users, isLoading } = useUsers();\n  const { searchText } = useSearchContext();\n  const [skeletonSearchLoading, setSkeletonSearchLoading] = useState(true);\n\n  useEffect(() => {\n    const skeletonSearchLoadingTimeout = setInterval(() => {\n      setSkeletonSearchLoading(false);\n    }, 1500);\n\n    return () => {\n      clearInterval(skeletonSearchLoadingTimeout);\n      setSkeletonSearchLoading(true);\n    };\n  }, []);\n\n  if (isLoading) return null;\n\n  return (\n    <>\n      {skeletonSearchLoading ? (\n        <div className=\"bg-white text-black h-full w-full max-w-[500px] m-auto p-4 flex flex-col justify-center items-start gap-4\">\n          <div className=\"w-full flex flex-col justify-center items-center gap-4\">\n            {users.slice(0, 5).map((user) => (\n              <SkeletonSearchUser key={user.id} user={user} />\n            ))}\n          </div>\n        </div>\n      ) : (\n        <m.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 1, duration: 1 }}\n          className=\"bg-white text-black h-full w-full max-w-[500px] m-auto p-4 flex flex-col justify-center items-start gap-4\"\n        >\n          <div className=\"w-full flex flex-col justify-center items-center gap-4\">\n            {users\n              .filter((value) => {\n                if (searchText === \"\") {\n                  return value;\n                } else if (\n                  value.username\n                    .toLowerCase()\n                    .includes(searchText.toLowerCase())\n                ) {\n                  return value;\n                }\n              })\n              .map((user) => (\n                <SearchUser key={user.id} user={user} />\n              ))}\n          </div>\n        </m.div>\n      )}\n    </>\n  );\n};\n\nexport default Search;\n"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","storage","getStorage","getAnalytics","useUser","id","q","query","doc","_useDocumentData","useDocumentData","_useDocumentData2","_slicedToArray","user","isLoading","useUsers","_useCollectionData","useCollectionData","collection","_useCollectionData2","users","useUpdateAvatar","uid","_useState","useState","_useState2","setLoading","_useState3","_useState4","file","setFile","navigate","useNavigate","_updateAvatar","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fileRef","avatarURL","docRef","wrap","_context","prev","next","abrupt","ref","uploadBytes","getDownloadURL","sent","updateDoc","avatar","stop","apply","arguments","updateAvatar","_ref","_useInView","useInView","myRef","myElementIsVisible","inView","_jsxs","Link","to","concat","className","children","_jsx","title","src","alt","username","format","date","m","div","initial","opacity","animate","transition","delay","duration","_useUsers","searchText","useSearchContext","skeletonSearchLoading","setSkeletonSearchLoading","useEffect","skeletonSearchLoadingTimeout","setInterval","clearInterval","_Fragment","slice","map","SkeletonSearchUser","filter","value","toLowerCase","includes","SearchUser"],"sourceRoot":""}