{"version":3,"file":"static/js/927.7cecac6c.chunk.js","mappings":"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","sources":["hooks/users.js","routes/UserProfile.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport { collection, doc, query, updateDoc } from \"firebase/firestore\";\nimport {\n  useCollectionData,\n  useDocumentData,\n} from \"react-firebase-hooks/firestore\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport function useUser(id) {\n  const q = query(doc(db, \"users\", id));\n  const [user, isLoading] = useDocumentData(q);\n\n  return { user, isLoading };\n}\n\nexport function useUsers() {\n  const [users, isLoading] = useCollectionData(collection(db, \"users\"));\n  return { users, isLoading };\n}\n\nexport function useUpdateAvatar(uid) {\n  const [isLoading, setLoading] = useState(false);\n  const [file, setFile] = useState(null);\n  const navigate = useNavigate();\n\n  async function updateAvatar() {\n    if (!file) return;\n\n    setLoading(true);\n    const fileRef = ref(storage, \"avatars/\" + uid);\n    await uploadBytes(fileRef, file);\n\n    const avatarURL = await getDownloadURL(fileRef);\n\n    const docRef = doc(db, \"users\", uid);\n    await updateDoc(docRef, { avatar: avatarURL });\n    setLoading(false);\n\n    navigate(0);\n  }\n\n  return { file, setFile, updateAvatar };\n}\n","import React, { lazy, useState } from \"react\";\nimport { motion as m } from \"framer-motion\";\nimport { useParams } from \"react-router-dom\";\nimport { usePosts } from \"../hooks/posts\";\nimport { useUser } from \"../hooks/users\";\nconst ProfilePost = lazy(() => import(\"../components/profile/ProfilePost\"));\n\nconst UserProfile = () => {\n  const { id } = useParams();\n  const { posts, isLoading: postsLoading } = usePosts(id);\n  const { user, isLoading: userLoading } = useUser(id);\n  const [viewAllButton, setViewAllButton] = useState(false);\n  let sumLikes = 0;\n\n  if (userLoading || postsLoading) return null;\n\n  return (\n    <>\n      <m.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 1, duration: 1 }}\n        className=\"h-full w-full max-w-[500px] m-auto bg-white p-4 flex flex-col justify-center items-center gap-4 text-black\"\n      >\n        {/* User */}\n        <img\n          src={user.avatar}\n          alt=\"\"\n          className=\"w-40 h-40 bg-black shadow-md shadow-gray-400 rounded-full object-cover\"\n        />\n        <div className=\"flex flex-col justify-center items-center gap-1\">\n          <div className=\"text-xl font-semibold tracking-wider text-orange-600\">\n            {user.username}\n          </div>\n          <span className=\"opacity-50 text-sm text-center tracking-wider\">\n            front-end web developer\n          </span>\n        </div>\n\n        {/* Posts & Likes */}\n        <div className=\"flex justify-center items-center gap-8 my-4\">\n          <div className=\"flex flex-col justify-center items-center gap-1 font-medium tracking-wider\">\n            <div>{posts?.length}</div>\n            <div className=\"opacity-50\">Posts</div>\n          </div>\n          <div className=\"flex flex-col justify-center items-center gap-1 font-medium tracking-wider\">\n            <div className=\"hidden\">\n              {posts?.map((post) => {\n                return (sumLikes += post?.likes?.length);\n              })}\n            </div>\n            <div>{sumLikes}</div>\n            <div className=\"opacity-50\">Likes</div>\n          </div>\n        </div>\n\n        {/* Posts */}\n        <div className=\"w-full flex flex-col gap-4\">\n          <div className=\"w-full flex justify-between items-center\">\n            <div className=\"text-lg  tracking-wider font-semibold\">Posts</div>\n            {viewAllButton ? (\n              <div\n                title=\"Hide\"\n                onClick={() => setViewAllButton(false)}\n                className=\"text-sm  tracking-wider font-semibold text-orange-600 cursor-pointer hover:opacity-50 duration-300 ease-in-out\"\n              >\n                Hide\n              </div>\n            ) : (\n              <div\n                title=\"View All\"\n                onClick={() => setViewAllButton(true)}\n                className=\"text-sm  tracking-wider font-semibold text-orange-600 cursor-pointer hover:opacity-50 duration-300 ease-in-out\"\n              >\n                View All\n              </div>\n            )}\n          </div>\n          {posts.length === 0 ? (\n            <div className=\"text-center font-medium tracking-wider\">\n              There are no posts yet!\n            </div>\n          ) : (\n            <div\n              className={`${\n                posts.length % 3 === 0 ? \"justify-between\" : \"justify-start\"\n              } w-full flex flex-wrap gap-2`}\n            >\n              {/* Post */}\n              {viewAllButton ? (\n                <>\n                  {posts.map((post) => (\n                    <ProfilePost key={post?.id} post={post} user={user} />\n                  ))}\n                </>\n              ) : (\n                <>\n                  {posts.slice(0, 6).map((post) => (\n                    <ProfilePost key={post?.id} post={post} user={user} />\n                  ))}\n                </>\n              )}\n            </div>\n          )}\n        </div>\n      </m.div>\n    </>\n  );\n};\n\nexport default UserProfile;\n"],"names":["useUser","id","q","query","doc","db","_useDocumentData","useDocumentData","_useDocumentData2","_slicedToArray","user","isLoading","useUsers","_useCollectionData","useCollectionData","collection","_useCollectionData2","users","useUpdateAvatar","uid","_useState","useState","_useState2","setLoading","_useState3","_useState4","file","setFile","navigate","useNavigate","_updateAvatar","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fileRef","avatarURL","docRef","wrap","_context","prev","next","abrupt","ref","storage","uploadBytes","getDownloadURL","sent","updateDoc","avatar","stop","apply","arguments","updateAvatar","ProfilePost","lazy","useParams","_usePosts","usePosts","posts","postsLoading","_useUser","userLoading","viewAllButton","setViewAllButton","sumLikes","_jsx","_Fragment","children","_jsxs","m","div","initial","opacity","animate","transition","delay","duration","className","src","alt","username","length","map","post","_post$likes","likes","title","onClick","concat","slice"],"sourceRoot":""}