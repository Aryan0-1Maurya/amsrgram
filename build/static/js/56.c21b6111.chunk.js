"use strict";(self.webpackChunksocial_media_app=self.webpackChunksocial_media_app||[]).push([[56],{5063:function(e,r,a){a.d(r,{I8:function(){return c},db:function(){return u},tO:function(){return d}});var t=a(4702),n=a(4098),s=a(2481),i=a(276),o=a(2391),l=(0,t.ZF)({apiKey:"AIzaSyAqmJC2y6qC_U450bbswobw_LyW8FiYZ7k",authDomain:"social-media-app-2fe38.firebaseapp.com",projectId:"social-media-app-2fe38",storageBucket:"social-media-app-2fe38.appspot.com",messagingSenderId:"574156900602",appId:"1:574156900602:web:13726a114daac7ada06143"}),c=(0,n.v0)(l),u=(0,s.ad)(l),d=(0,i.cF)(l);(0,o.IH)(l)},438:function(e,r,a){a.d(r,{aC:function(){return x},f0:function(){return h},aU:function(){return g},mr:function(){return f}});var t=a(4165),n=a(5861),s=a(9439),i=a(2791),o=a(7689),l=a(4098),c=a(5063),u=a(2481),d=a(6910);function p(e){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)((0,t.Z)().mark((function e(r){var a,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,u.IO)((0,u.hJ)(c.db,"users"),(0,u.ar)("username","==",r)),e.next=3,(0,u.PL)(a);case 3:return n=e.sent,e.abrupt("return",n.size>0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){var e=(0,d.F_)(c.I8),r=(0,s.Z)(e,3),a=r[0],o=r[1],l=r[2],p=(0,i.useState)(!0),m=(0,s.Z)(p,2),x=m[0],h=m[1],f=(0,i.useState)(null),g=(0,s.Z)(f,2),b=g[0],v=g[1];return(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),r=(0,u.JU)(c.db,"users",a.uid),e.next=4,(0,u.QT)(r);case 4:n=e.sent,v(n.data()),h(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o||(a?function(){e.apply(this,arguments)}():h(!1))}),[o,a]),{user:b,isLoading:x,error:l}}function h(){var e=(0,i.useState)(!1),r=(0,s.Z)(e,2),a=r[0],u=r[1],d=(0,i.useState)(""),p=(0,s.Z)(d,2),m=p[0],x=p[1],h=(0,o.s0)();function f(){return(f=(0,n.Z)((0,t.Z)().mark((function e(r){var a,n,s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.email,n=r.password,s=r.redirectTo,i=void 0===s?"/":s,u(!0),x(""),e.prev=3,e.next=6,(0,l.e5)(c.I8,a,n);case 6:h(i),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),x(e.t0.message),u(!1),e.abrupt("return",!1);case 14:return x(""),u(!1),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}return{login:function(e){return f.apply(this,arguments)},isLoading:a,error:m}}function f(){var e=(0,i.useState)(!1),r=(0,s.Z)(e,2),a=r[0],d=r[1],m=(0,i.useState)(""),x=(0,s.Z)(m,2),h=x[0],f=x[1],g=(0,o.s0)();function b(){return(b=(0,n.Z)((0,t.Z)().mark((function e(r){var a,n,s,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.username,n=r.email,s=r.password,i=r.redirectTo,void 0===i?"/":i,d(!0),e.next=4,p(a);case 4:if(!e.sent){e.next=10;break}f("Username already exists"),d(!1),e.next=25;break;case 10:return e.prev=10,e.next=13,(0,l.Xb)(c.I8,n,s);case 13:return o=e.sent,e.next=16,(0,u.pl)((0,u.JU)(c.db,"users",o.user.uid),{id:o.user.uid,username:a,avatar:"",date:Date.now()});case 16:g("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),f("Signed up failed");case 22:return e.prev=22,d(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[10,19,22,25]])})))).apply(this,arguments)}return{register:function(e){return b.apply(this,arguments)},isLoading:a,error:h}}function g(){var e=(0,d.QJ)(c.I8),r=(0,s.Z)(e,3),a=r[0],i=r[1],l=(r[2],(0,o.s0)());function u(){return(u=(0,n.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(!e.sent){e.next=4;break}l("/signin");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{logout:function(){return u.apply(this,arguments)},isLoading:i}}},6056:function(e,r,a){a.r(r);var t=a(4165),n=a(1413),s=a(5861),i=(a(2791),a(2333)),o=a(1087),l=a(1134),c=a(8820),u=a(8352),d=a(438),p=a(184);r.default=function(){var e=(0,d.mr)(),r=e.register,a=e.isLoading,m=e.error,x=(0,l.cI)(),h=x.register,f=x.handleSubmit,g=x.reset,b=x.formState.errors;function v(){return(v=(0,s.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({username:a.username,email:a.email,password:a.password,redirectTo:"/"});case 2:e.sent&&g();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,p.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"w-full max-w-[350px] h-screen m-auto p-4 flex flex-col justify-center bg-white text-black",children:[(0,p.jsxs)(o.rU,{to:"/",title:"Home",className:"group text-5xl font-bold mb-12 text-center tracking-widest",children:[(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 ease-in",children:"W"}),(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 delay-100 ease-in",children:"O"}),(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 delay-200 ease-in",children:"N"}),(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 delay-[300ms] ease-in",children:"D"}),(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 delay-[400ms] ease-in",children:"E"}),(0,p.jsx)("span",{className:"group-hover:text-orange-600 duration-150 delay-[500ms] ease-in",children:"R"}),(0,p.jsxs)("span",{className:"text-lg text-orange-600 font-bold",children:[(0,p.jsx)("span",{className:"group-hover:text-black duration-150 delay-[600ms] ease-in",children:"f"}),(0,p.jsx)("span",{className:"group-hover:text-black duration-150 delay-[700ms] ease-in",children:"u"}),(0,p.jsx)("span",{className:"group-hover:text-black duration-150 delay-[800ms] ease-in",children:"l"}),(0,p.jsx)("span",{className:"group-hover:text-black duration-150 delay-[900ms] ease-in",children:"l"})]})]}),(0,p.jsx)("h1",{className:"".concat(m?"text-[#BF0000]":"text-black"," text-2xl font-bold text-left tracking-wider pt-8 pb-2"),children:"Sign Up"}),m?(0,p.jsx)("p",{className:"text-[#BF0000] mt-2",children:m}):null,(0,p.jsxs)("form",{onSubmit:f((function(e){return function(e){return v.apply(this,arguments)}(e)})),children:[(0,p.jsxs)("div",{className:"my-4",children:[(0,p.jsx)("label",{htmlFor:"username",className:"".concat(b.username?"text-[#BF0000]":"text-orange-600"," cursor-pointer font-semibold tracking-wider"),children:"Username"}),(0,p.jsxs)("div",{className:"my-2 w-full relative rounded-2xl",children:[(0,p.jsx)("input",(0,n.Z)({className:"".concat(b.username?"border-[#BF0000]":"border-black"," w-full p-2 border-2 rounded-2xl placeholder:text-neutral-600 placeholder:tracking-wider bg-white outline-orange-600"),id:"username",type:"text",placeholder:"Demo"},h("username",u.Vx))),(0,p.jsx)(c.Dme,{className:"absolute right-3 top-3 text-grey-400"})]}),b.username?(0,p.jsx)("p",{className:"text-[#BF0000] mt-2",children:b.username.message}):null]}),(0,p.jsxs)("div",{className:"my-4",children:[(0,p.jsx)("label",{htmlFor:"email",className:"".concat(b.email?"text-[#BF0000]":"text-orange-600"," cursor-pointer font-semibold tracking-wider"),children:"Email"}),(0,p.jsxs)("div",{className:"my-2 w-full relative rounded-2xl",children:[(0,p.jsx)("input",(0,n.Z)({className:"".concat(b.email?"border-[#BF0000]":"border-black"," w-full p-2 border-2 rounded-2xl placeholder:text-neutral-600 placeholder:tracking-wider bg-white outline-orange-600"),id:"email",type:"email",placeholder:"demo@demo.com"},h("email",u.DW))),(0,p.jsx)(c.Dme,{className:"absolute right-3 top-3 text-grey-400"})]}),b.email?(0,p.jsx)("p",{className:"text-[#BF0000] mt-2",children:b.email.message}):null]}),(0,p.jsxs)("div",{className:"my-4",children:[(0,p.jsx)("label",{htmlFor:"password",className:"".concat(b.password?"text-[#BF0000]":"text-orange-600"," cursor-pointer font-semibold tracking-wider"),children:"Password"}),(0,p.jsxs)("div",{className:"my-2 w-full relative rounded-2xl",children:[(0,p.jsx)("input",(0,n.Z)({className:"".concat(b.password?"border-[#BF0000]":"border-black"," w-full p-2 border-2 rounded-2xl placeholder:text-neutral-600 placeholder:tracking-wider bg-white outline-orange-600"),id:"password",type:"password",placeholder:"password"},h("password",u.fh))),(0,p.jsx)(c.oF6,{className:"absolute right-3 top-3 text-grey-400"})]}),b.password?(0,p.jsx)("p",{className:"text-[#BF0000] mt-2",children:b.password.message}):null]}),(0,p.jsx)("button",{className:"w-full my-2 p-3 bg-white hover:bg-orange-600 border-2 border-black hover:border-orange-600 text-black hover:text-white tracking-wider rounded-2xl shadow-none hover:shadow-md shadow-orange-600 font-bold duration-300 ease-in-out",children:a?(0,p.jsx)("span",{className:"animate-pulse",children:"Signing Up"}):(0,p.jsx)("span",{children:"Sign Up"})})]}),(0,p.jsxs)("div",{className:"my-4 text-center tracking-wider",children:[(0,p.jsx)("span",{className:"text-neutral-600 pr-2",children:"Already have an account?"}),(0,p.jsx)(o.rU,{to:"/signin",className:"hover:opacity-50 font-bold duration-300 ease-in-out",children:"Sign In"})]})]})}},8352:function(e,r,a){a.d(r,{Ae:function(){return i},DW:function(){return n},Vx:function(){return t},fh:function(){return s},o5:function(){return o}});var t={required:{value:!0,message:"Please enter username"},pattern:{value:/^[a-zA-Z0-9]+$/,message:"Username must be alphanumeric"}},n={required:{value:!0,message:"Please enter an email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email address is not valid"}},s={required:{value:!0,message:"Please enter password"},minLength:{value:6,message:"Password must be at least 6 characters long"}},i={required:{value:!0,message:"Please enter caption"},maxLength:{value:30,message:"Caption must be at most 30 characters long"}},o={required:{value:!0,message:"Please choose picture"}}}}]);
//# sourceMappingURL=56.c21b6111.chunk.js.map