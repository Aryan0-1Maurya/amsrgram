"use strict";(self.webpackChunksocial_media_app=self.webpackChunksocial_media_app||[]).push([[826],{438:function(e,t,n){n.d(t,{aC:function(){return x},f0:function(){return m},aU:function(){return h},mr:function(){return v}});var r=n(4165),i=n(5861),s=n(9439),a=n(2791),c=n(7689),u=n(4098),l=n(5063),o=n(2481),d=n(6910);function f(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.IO)((0,o.hJ)(l.db,"users"),(0,o.ar)("username","==",t)),e.next=3,(0,o.PL)(n);case 3:return i=e.sent,e.abrupt("return",i.size>0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){var e=(0,d.F_)(l.I8),t=(0,s.Z)(e,3),n=t[0],c=t[1],u=t[2],f=(0,a.useState)(!0),p=(0,s.Z)(f,2),x=p[0],m=p[1],v=(0,a.useState)(null),h=(0,s.Z)(v,2),g=h[0],w=h[1];return(0,a.useEffect)((function(){function e(){return(e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),t=(0,o.JU)(l.db,"users",n.uid),e.next=4,(0,o.QT)(t);case 4:i=e.sent,w(i.data()),m(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c||(n?function(){e.apply(this,arguments)}():m(!1))}),[c,n]),{user:g,isLoading:x,error:u}}function m(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],o=t[1],d=(0,a.useState)(""),f=(0,s.Z)(d,2),p=f[0],x=f[1],m=(0,c.s0)();function v(){return(v=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,i=t.password,s=t.redirectTo,a=void 0===s?"/":s,o(!0),x(""),e.prev=3,e.next=6,(0,u.e5)(l.I8,n,i);case 6:m(a),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),x(e.t0.message),o(!1),e.abrupt("return",!1);case 14:return x(""),o(!1),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}return{login:function(e){return v.apply(this,arguments)},isLoading:n,error:p}}function v(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],d=t[1],p=(0,a.useState)(""),x=(0,s.Z)(p,2),m=x[0],v=x[1],h=(0,c.s0)();function g(){return(g=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,i=t.email,s=t.password,a=t.redirectTo,void 0===a?"/":a,d(!0),e.next=4,f(n);case 4:if(!e.sent){e.next=10;break}v("Username already exists"),d(!1),e.next=25;break;case 10:return e.prev=10,e.next=13,(0,u.Xb)(l.I8,i,s);case 13:return c=e.sent,e.next=16,(0,o.pl)((0,o.JU)(l.db,"users",c.user.uid),{id:c.user.uid,username:n,avatar:"",date:Date.now()});case 16:h("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),v("Signed up failed");case 22:return e.prev=22,d(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[10,19,22,25]])})))).apply(this,arguments)}return{register:function(e){return g.apply(this,arguments)},isLoading:n,error:m}}function h(){var e=(0,d.QJ)(l.I8),t=(0,s.Z)(e,3),n=t[0],a=t[1],u=(t[2],(0,c.s0)());function o(){return(o=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(!e.sent){e.next=4;break}u("/signin");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{logout:function(){return o.apply(this,arguments)},isLoading:a}}},8826:function(e,t,n){n.r(t);var r=n(9439),i=n(2791),s=n(2333),a=n(7689),c=n(438),u=n(8318),l=n(184),o=(0,i.lazy)((function(){return Promise.all([n.e(856),n.e(373),n.e(303)]).then(n.bind(n,6303))}));t.default=function(){var e=(0,c.aC)(),t=e.user,n=e.isLoading,d=(0,a.s0)(),f=(0,u.kx)(null===t||void 0===t?void 0:t.id),p=f.posts,x=f.isLoading,m=(0,i.useState)(!1),v=(0,r.Z)(m,2),h=v[0],g=v[1],w=0;return n||x?null:null!==t&&void 0!==t&&t.id?(0,l.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},className:"h-full w-full max-w-[500px] m-auto bg-white p-4 flex flex-col justify-center items-center gap-4 text-black",children:[t.avatar?(0,l.jsx)("img",{src:t.avatar,alt:"",className:"w-40 h-40 shadow-md shadow-gray-400 rounded-full object-cover"}):(0,l.jsx)("img",{src:t.avatar,alt:"",className:"w-40 h-40 bg-black shadow-md shadow-gray-400 rounded-full object-cover"}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",children:[(0,l.jsx)("div",{className:"text-xl font-semibold tracking-wider text-orange-600",children:t.username}),(0,l.jsx)("span",{className:"opacity-50 text-sm text-center tracking-wider",children:"front-end web developer"})]}),(0,l.jsxs)("div",{className:"flex justify-center items-center gap-8 my-4",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 font-medium tracking-wider",children:[(0,l.jsx)("div",{children:null===p||void 0===p?void 0:p.length}),(0,l.jsx)("div",{className:"opacity-50",children:"Posts"})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 font-medium tracking-wider",children:[(0,l.jsx)("div",{className:"hidden",children:null===p||void 0===p?void 0:p.map((function(e){var t;return w+=null===e||void 0===e||null===(t=e.likes)||void 0===t?void 0:t.length}))}),(0,l.jsx)("div",{children:w}),(0,l.jsx)("div",{className:"opacity-50",children:"Likes"})]})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,l.jsx)("div",{className:"text-lg  tracking-wider font-semibold",children:"Posts"}),h?(0,l.jsx)("div",{title:"Hide",onClick:function(){return g(!1)},className:"text-sm  tracking-wider font-semibold text-orange-600 cursor-pointer hover:opacity-50 duration-300 ease-in-out",children:"Hide"}):(0,l.jsx)("div",{title:"View All",onClick:function(){return g(!0)},className:"text-sm  tracking-wider font-semibold text-orange-600 cursor-pointer hover:opacity-50 duration-300 ease-in-out",children:"View All"})]}),0===p.length?(0,l.jsx)("div",{className:"text-center font-medium tracking-wider",children:"There are no posts yet!"}):(0,l.jsx)("div",{className:"".concat(p.length%3===0?"justify-between":"justify-start"," w-full flex flex-wrap gap-2"),children:h?(0,l.jsx)(l.Fragment,{children:p.map((function(e){return(0,l.jsx)(o,{post:e,user:t},null===e||void 0===e?void 0:e.id)}))}):(0,l.jsx)(l.Fragment,{children:p.slice(0,6).map((function(e){return(0,l.jsx)(o,{post:e,user:t},null===e||void 0===e?void 0:e.id)}))})})]})]}):void d("/signin")}}}]);
//# sourceMappingURL=826.945d1d79.chunk.js.map